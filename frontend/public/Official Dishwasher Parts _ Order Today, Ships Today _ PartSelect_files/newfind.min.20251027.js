"use strict";function gtag(){dataLayer.push(arguments)}function initSearch(){var n=document.querySelector(".js-searchRepairman input"),t=document.querySelector(".js-searchRepairman button");n&&t&&(n.addEventListener("keyup",function(i){var r=i.keyCode?i.keyCode:i.which;r===13&&n.value!=""&&t.click()}),n.addEventListener("change",function(){var n=document.querySelector(".js-searchRepairman .autocomplete-container ul");n&&(n.childNodes.forEach(function(n){n.addEventListener("click",function(){return t.click()})}),a11y.attachEvents(n))}))}function setPTLContent(n,t,i){if(t!="/"||""){var r=document.getElementById("PTLModal");r.querySelector(".btn").href=t;r.querySelector(".btn").innerHTML="View All "+n;r.querySelector(".js-image").src=i;showModal(!0,"#PTLModal");EGP.AnalyticsTrackEvent("Repair Symptom Part List","Clicked Part Image",i,"");EGP.GA4Event("Repair","Symptom Part List","Click","Part Image",i)}}document.addEventListener("DOMContentLoaded",function(){(function(){var t=EGP.getCookie("FirstVisit"),n;t!="true"&&(EGP.setCookie("FirstVisit","true",30,"/"),EGPinit.waitForJS("hj",function(){hj("trigger","Newfind")},null,4e3));n=document.querySelector(".js-wf-callout");n&&(n.dataset.brand?localStorage.setItem("WFFBrand",n.dataset.brand):localStorage.removeItem("WFFBrand"))})();document.querySelector(".repair")&&function(){var o,l,a;initSearch();o=document.querySelector(".js-searchRepairman button");o&&o.addEventListener("click",function(){var n=document.querySelector(".js-searchRepairman input"),t;n.value!=""&&(t=n.value.trim(),window.location.href="/Instant-Repairman/?ModelNumber="+t)});var t=document.querySelector("[data-mr-app]"),u=t.dataset.modelType,v=t.dataset.mrApp,y=t.dataset.measurement,p=t.dataset.mrAppDebug,s="",i="",h=0,r="",f=0,e="",c=0,n={PartnerOrderID:"",ExternalPartner:"Mr Appliance",FirstName:"",LastName:"",EmailAddress:"",Status:"Completed",OrderType:"In-Home Service",SiteID:1,SessionID:"",SessionType:"GA4",ExternalOrderData:{}};gtag("get",y,"client_id",function(t){n.SessionID=t});l={Dishwasher:"7478",Dryer:"7508",Microwave:"7664","Range, Stove or Oven":"7698",Washer:"7872",Refrigerator:"7739"}[u]||null;a=centriq.serviceScheduler.init({apiKey:v,banner:{headerText:"Want Mr. Appliance to fix that broken "+u+"?"},preview:{serviceId:l}});a.render(t).on("banner_viewed",function(){dataLayer.push({event:"service_booking_cta_view",sb:{version:"version 1",page:"Repair Help - Appliance Page",location:"symptom list",brand:"",appliance:u,provider:"Mr. Appliance"}})}).on("banner_clicked",function(){dataLayer.push({event:"service_booking_click",sb:{version:"version 1",page:"Repair Help - Appliance Page",location:"symptom list",brand:"",appliance:u,provider:"Mr. Appliance",step:"Step 1 Clicked"}})}).on("scheduler_opened",function(){dataLayer.push({event:"service_booking_view",sb:{provider:"Mr. Appliance",version:"version 1",step:"Step 1 Display modal"}})}).on("location_searched",function(n){s=n.location;dataLayer.push({event:"service_booking_click",sb:{version:"version 1",provider:"Mr. Appliance",zipcode:s,step:"Step 2 Provided zip code"}})}).on("availability_retrieved",function(n){i=n.locationName;r=n.locationId;h=n.count;c=n.earliestCount;dataLayer.push({event:"service_booking_view",sb:{provider:"Mr. Appliance",version:"version 1",zipcode:s,timeslots:h,franchises:"1",franchiseid:r,franchisee:i,minimumdays:c,step:"Step 2 List appointments"}})}).on("timeslot_picked",function(n){var o=new Date(n.start),t=new Date,u;t.setHours(0,0,0,0);u=o-t;f=Math.floor(u/864e5);e=n.start;dataLayer.push({event:"service_booking_click",sb:{version:"version 1",provider:"Mr. Appliance",timeslot:e,daystoappointment:f,minimumdays:c,timeslots:h,franchiseid:r,franchisee:i,step:"Step 3 Select timeslot"}})}).on("form_completed",function(){dataLayer.push({event:"service_booking_view",sb:{provider:"Mr. Appliance",version:"version 1",daystoappointment:f,timeslot:e,franchiseid:r,franchisee:i,step:"Step 3 Booking Details"}})}).on("booking_submitted",function(){dataLayer.push({event:"service_booking_click",sb:{version:"version 1",provider:"Mr. Appliance",timeslot:e,daystoappointment:f,franchiseid:r,franchisee:i,step:"Step 4 Confirm Booking"}})}).on("booking_completed",function(t){n.PartnerOrderID=t.bookingId;n.FirstName=t.customerFirstName;n.LastName=t.customerLastName;n.EmailAddress=t.customerEmail;dataLayer.push({event:"service_booking_completed",ecommerce:{purchase:{actionField:{id:t.bookingId,affiliation:"",revenue:25,currency:"USD",items:[{item_name:"Service Booking",item_id:"service_booking",price:25}]}}}});EGP.getCookie("PSToken")||p||(dataLayer.push({EGPOrderID:t.bookingId}),dataLayer.push({EGPOrderValue:25}),dataLayer.push({EGPEmail:t.customerEmail}));fetch("/api/ShoppingCart/CreateExternalOrder",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(n)})})}()});window.addEventListener("beforeprint",function(){var e=document.getElementsByClassName("b-lazy"),i=!0,r=!1,u=undefined,n,f,t;try{for(n=e[Symbol.iterator]();!(i=(f=n.next()).done);i=!0)t=f.value,t.getAttribute("data-src")!=null&&t.setAttribute("src",t.getAttribute("data-src"))}catch(o){r=!0;u=o}finally{try{!i&&n["return"]&&n["return"]()}finally{if(r)throw u;}}});